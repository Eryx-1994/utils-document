# vim

```shell
# 编辑文件
vim 文件路径
# `按Esc` -> `shift+冒号` -> `输入q`：退出
# 首先会进入“一般模式”，此模式只接受各种快捷键，不能编辑文件内容
# 按i键，就会从一般模式进入编辑模式，此模式下，敲入的都是文件内容
#   i：在光标前插入insert
#   a：在光标后插入after
# 编辑完成之后，按Esc键退出编辑模式，回到一般模式；
# 再按：，进入“底行命令模式”，输入wq命令，回车即可
```

### 常用快捷键

> 在一般模式下使用

```shell
a   在光标后一位开始插入
A   在该行的最后插入
I   在该行的最前面插入
gg   直接跳到文件的首行
G    直接跳到文件的末行
dd    删除一行
3dd   删除3行
yy    复制一行
3yy   复制3行
p     粘贴
u     undo
v        进入字符选择模式，选择完成后，按y复制，按p粘贴
ctrl+v   进入块选择模式，选择完成后，按y复制，按p粘贴
shift+v  进入行选择模式，选择完成后，按y复制，按p粘贴
```

### 撤销/恢复

* 撤销: 输入冒号，输入u
* 恢复：ctrl+r

### 末行模式操作

esc

* `:w` ——保存
* `:w 路径` ——另存为
* `:q` —— 退出文件
* `:wq` —— 保存并退出
* `:q!` —— 强制退出
* 在vim内部调用外部命令 `:! 外部命令`

### 搜索/查找/替换

* `/关键词` ：查找关键词，会高亮显示
* N/n：搜索结果切换上/下一个结果
* `:nohl` ：nohightlight 取消高亮
* `:s/搜索的关键词/新的内容`：替换光标所在行符合条件的第一个
* `:s/搜索的关键词/新的内容/g`：替换光标所在行的全部符合条件的内容
* :`%s/搜索的关键词/新的内容/g`：替换光标所有符合条件的内容
* `:set nu`：显示行号
* `:set nonu`：取消显示行号

### 代码着色

末行模式下：

* `:syntax on`：代码着色
* `:syntax off`：关闭代码着色
